# Android PWA Folder Structure

## Current Project Structure

```
polite-exam/
â”‚
â”œâ”€â”€ ğŸ“ icons/                              # PWA Icons (CREATE THESE)
â”‚   â”œâ”€â”€ icon-192.png                       # 192x192 standard icon
â”‚   â”œâ”€â”€ icon-512.png                       # 512x512 standard icon
â”‚   â”œâ”€â”€ icon-maskable-192.png              # 192x192 maskable/adaptive icon
â”‚   â””â”€â”€ icon-maskable-512.png              # 512x512 maskable/adaptive icon
â”‚
â”œâ”€â”€ ğŸ“ api/                                # Backend API files
â”‚   â”œâ”€â”€ api-integration.js
â”‚   â”œâ”€â”€ create-test-candidate.js
â”‚   â””â”€â”€ setup-sample-exams.js
â”‚
â”œâ”€â”€ ğŸ“ .git/                               # Git version control
â”œâ”€â”€ ğŸ“ .serena/                            # Serena AI assistant data
â”‚
â”œâ”€â”€ ğŸ“„ index.html                          # âœ… Main app (PWA-ready)
â”œâ”€â”€ ğŸ“„ manifest.json                       # âœ… PWA manifest (created)
â”œâ”€â”€ ğŸ“„ sw.js                               # âœ… Service worker (created)
â”œâ”€â”€ ğŸ“„ assetlinks.json                     # âš ï¸ Digital Asset Links (needs SHA256)
â”‚
â”œâ”€â”€ ğŸ“„ package.json                        # Node.js dependencies
â”œâ”€â”€ ğŸ“„ package-lock.json                   # Dependency lock file
â”œâ”€â”€ ğŸ“„ vercel.json                         # Vercel deployment config
â”œâ”€â”€ ğŸ“„ .env.example                        # Environment variables template
â”œâ”€â”€ ğŸ“„ .gitignore                          # Git ignore rules
â”œâ”€â”€ ğŸ“„ .mcp.json                           # MCP configuration
â”‚
â”œâ”€â”€ ğŸ“„ ANDROID-PWA-README.md               # ğŸ“š Main deployment guide
â”œâ”€â”€ ğŸ“„ ANDROID-PWA-QUICK-START.md          # ğŸ“š Quick start guide
â”œâ”€â”€ ğŸ“„ ICON-GENERATION.md                  # ğŸ“š Icon creation guide
â”œâ”€â”€ ğŸ“„ ANDROID-PWA-FOLDER-STRUCTURE.md     # ğŸ“š This file
â”‚
â””â”€â”€ ğŸ“„ [Other documentation files...]      # Existing project docs
```

## After Bubblewrap Init

When you run `bubblewrap init`, these files will be created:

```
polite-exam/
â”‚
â”œâ”€â”€ [All files above...]
â”‚
â”œâ”€â”€ ğŸ“„ twa-manifest.json                   # TWA configuration (auto-generated)
â”œâ”€â”€ ğŸ“„ android.keystore                    # ğŸ” Signing key (KEEP SECRET!)
â”‚
â”œâ”€â”€ ğŸ“ .bubblewrap/                        # Bubblewrap build cache
â”‚   â””â”€â”€ [Build files...]
â”‚
â””â”€â”€ ğŸ“ build/                              # Build output folder
    â”œâ”€â”€ app-release-unsigned.apk           # Development APK
    â””â”€â”€ app-release-bundle.aab             # Production bundle (Play Store)
```

## File Descriptions

### Core PWA Files (Already Created)

#### manifest.json
- **Purpose**: PWA configuration file
- **Contains**: App name, colors, icons, display mode
- **Status**: âœ… Created with correct configuration
- **Location**: Root directory
- **Upload**: Must be accessible at `https://yourdomain.com/manifest.json`

#### sw.js (Service Worker)
- **Purpose**: Enables offline functionality
- **Contains**: Cache strategy, fetch handlers
- **Status**: âœ… Created with cache-first strategy
- **Cache Name**: `polite-exam-v1`
- **Upload**: Must be at `https://yourdomain.com/sw.js`

#### assetlinks.json
- **Purpose**: Verifies ownership of web content
- **Contains**: Package name and SHA256 fingerprint
- **Status**: âš ï¸ Created but needs SHA256 update
- **Location**: Root directory (for now)
- **Upload**: **Must** be at `https://yourdomain.com/.well-known/assetlinks.json`

#### icons/ folder
- **Purpose**: Contains all app icons
- **Status**: â¬œ Folder created, icons needed
- **Required Files**: 4 PNG files (see ICON-GENERATION.md)
- **Upload**: Entire folder to `https://yourdomain.com/icons/`

### Generated Files (After Bubblewrap)

#### twa-manifest.json
- **Purpose**: TWA-specific configuration
- **Generated by**: `bubblewrap init`
- **Contains**: 
  - Package name (com.politecoaching.exam)
  - App version
  - Display settings
  - Asset links URL
- **Edit**: Only when updating app version

#### android.keystore
- **Purpose**: Signs your Android app
- **Generated by**: `bubblewrap init`
- **Security**: ğŸ” CRITICAL - Never share or lose this!
- **Backup**: Store in secure, encrypted location
- **Git**: Already in .gitignore (do not commit)
- **Loss Impact**: Cannot update app if lost

### Build Output Files

#### app-release-unsigned.apk
- **Purpose**: Development/testing APK
- **Generated by**: `bubblewrap build`
- **Use**: Install on device for testing
- **Size**: ~5-10 MB typically
- **Distribution**: Do NOT upload to Play Store

#### app-release-bundle.aab
- **Purpose**: Production Android App Bundle
- **Generated by**: `bubblewrap build --release`
- **Use**: Submit to Google Play Store
- **Format**: AAB (Android App Bundle)
- **Optimization**: Google Play optimizes per-device

## Web Server Structure

Your web server must have this structure:

```
https://yourdomain.com/
â”‚
â”œâ”€â”€ index.html
â”œâ”€â”€ manifest.json
â”œâ”€â”€ sw.js
â”‚
â”œâ”€â”€ ğŸ“ icons/
â”‚   â”œâ”€â”€ icon-192.png
â”‚   â”œâ”€â”€ icon-512.png
â”‚   â”œâ”€â”€ icon-maskable-192.png
â”‚   â””â”€â”€ icon-maskable-512.png
â”‚
â””â”€â”€ ğŸ“ .well-known/
    â””â”€â”€ assetlinks.json                    # âš ï¸ CRITICAL LOCATION
```

## Critical Paths

### Must Be Accessible

These URLs **must** return 200 OK:

```
https://yourdomain.com/manifest.json
https://yourdomain.com/sw.js
https://yourdomain.com/icons/icon-192.png
https://yourdomain.com/icons/icon-512.png
https://yourdomain.com/icons/icon-maskable-192.png
https://yourdomain.com/icons/icon-maskable-512.png
https://yourdomain.com/.well-known/assetlinks.json    â† MOST IMPORTANT
```

### Test Your URLs

```bash
# Test manifest
curl -I https://yourdomain.com/manifest.json

# Test service worker
curl -I https://yourdomain.com/sw.js

# Test assetlinks (after upload)
curl https://yourdomain.com/.well-known/assetlinks.json
```

## Deployment Checklist

### Before `bubblewrap init`:
- âœ… icons/ folder created
- â¬œ 4 icon PNG files created
- âœ… manifest.json created
- âœ… sw.js created
- âœ… assetlinks.json template created
- âœ… index.html has PWA meta tags
- âœ… index.html registers service worker

### Before `bubblewrap build`:
- â¬œ All files uploaded to web server
- â¬œ assetlinks.json updated with SHA256
- â¬œ assetlinks.json moved to /.well-known/
- â¬œ All URLs tested and accessible
- â¬œ HTTPS working properly

### Before Play Store submission:
- â¬œ app-release-bundle.aab built
- â¬œ App tested on real device
- â¬œ 512x512 app icon created
- â¬œ 1024x500 feature graphic created
- â¬œ Screenshots captured (2-8)
- â¬œ Privacy policy uploaded
- â¬œ Store listing written

## File Size Reference

Typical file sizes in your project:

| File | Size | Notes |
|------|------|-------|
| manifest.json | ~1 KB | Small JSON config |
| sw.js | ~2 KB | Service worker script |
| assetlinks.json | <1 KB | Tiny JSON file |
| icon-192.png | 5-15 KB | Compressed PNG |
| icon-512.png | 15-50 KB | Compressed PNG |
| twa-manifest.json | ~2 KB | Generated config |
| android.keystore | ~2 KB | Binary keystore |
| app-release-unsigned.apk | 5-10 MB | Development APK |
| app-release-bundle.aab | 3-7 MB | Production bundle |

## Version Control (.gitignore)

These files should **NOT** be committed:

```gitignore
# Android build files
android.keystore              # NEVER commit signing key
*.apk                         # Build outputs
*.aab                         # Build outputs
.bubblewrap/                  # Build cache

# Node modules
node_modules/

# Environment files
.env
```

## Backup Strategy

### Critical Files to Backup:
1. **android.keystore** - ğŸ” ESSENTIAL (encrypted backup)
2. **twa-manifest.json** - Important (for version tracking)
3. **Source code** - Already in Git

### Non-Critical (Regenerable):
- manifest.json (can recreate)
- sw.js (can recreate)
- Build outputs (.apk, .aab)

## Next Steps

1. **Create icons** â†’ See ICON-GENERATION.md
2. **Upload to server** â†’ Deploy all web files
3. **Run Bubblewrap** â†’ See ANDROID-PWA-QUICK-START.md
4. **Test app** â†’ Install on device
5. **Submit to Play Store** â†’ Follow submission guide

---

**Project**: Polite Exam Management System  
**Package**: com.politecoaching.exam  
**Version**: 1.0.0
